<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="COSMIC Text"><meta name="keywords" content="rust, rustlang, rust-lang, cosmic_text"><title>cosmic_text - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-93196c7a1c3542a8.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../static.files/light-4743e13df3dfe8c4.css"><link rel="stylesheet" disabled href="../static.files/dark-0e1b889528bd466b.css"><link rel="stylesheet" disabled href="../static.files/ayu-65289d5d067c7c66.css"><script id="default-settings" ></script><script src="../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-3367e395607fafc1.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../cosmic_text/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../cosmic_text/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate cosmic_text</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.7.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press â€˜Sâ€™ to search, â€˜?â€™ for more optionsâ€¦" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">cosmic_text</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/cosmic_text/lib.rs.html#3-122">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="cosmic-text"><a href="#cosmic-text">COSMIC Text</a></h2>
<p>This library provides advanced text handling in a generic way. It provides abstractions for
shaping, font discovery, font fallback, layout, rasterization, and editing. Shaping utilizes
rustybuzz, font discovery utilizes fontdb, and the rasterization is optional and utilizes
swash. The other features are developed internal to this library.</p>
<p>It is recommended that you start by creating a <a href="struct.FontSystem.html" title="FontSystem"><code>FontSystem</code></a>, after which you can create a
<a href="struct.Buffer.html" title="Buffer"><code>Buffer</code></a>, provide it with some text, and then inspect the layout it produces. At this
point, you can use the <code>SwashCache</code> to rasterize glyphs into either images or pixels.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>cosmic_text::{Attrs, Color, FontSystem, SwashCache, Buffer, Metrics};

<span class="comment">// A FontSystem provides access to detected system fonts, create one per application
</span><span class="kw">let </span><span class="kw-2">mut </span>font_system = FontSystem::new();

<span class="comment">// A SwashCache stores rasterized glyphs, create one per application
</span><span class="kw">let </span><span class="kw-2">mut </span>swash_cache = SwashCache::new();

<span class="comment">// Text metrics indicate the font size and line height of a buffer
</span><span class="kw">let </span>metrics = Metrics::new(<span class="number">14.0</span>, <span class="number">20.0</span>);

<span class="comment">// A Buffer provides shaping and layout for a UTF-8 string, create one per text widget
</span><span class="kw">let </span><span class="kw-2">mut </span>buffer = Buffer::new(<span class="kw-2">&amp;mut </span>font_system, metrics);

<span class="comment">// Borrow buffer together with the font system for more convenient method calls
</span><span class="kw">let </span><span class="kw-2">mut </span>buffer = buffer.borrow_with(<span class="kw-2">&amp;mut </span>font_system);

<span class="comment">// Set a size for the text buffer, in pixels
</span>buffer.set_size(<span class="number">80.0</span>, <span class="number">25.0</span>);

<span class="comment">// Attributes indicate what font to choose
</span><span class="kw">let </span>attrs = Attrs::new();

<span class="comment">// Add some text!
</span>buffer.set_text(<span class="string">&quot;Hello, Rust! ðŸ¦€\n&quot;</span>, attrs);

<span class="comment">// Perform shaping as desired
</span>buffer.shape_until_scroll();

<span class="comment">// Inspect the output runs
</span><span class="kw">for </span>run <span class="kw">in </span>buffer.layout_runs() {
    <span class="kw">for </span>glyph <span class="kw">in </span>run.glyphs.iter() {
        <span class="macro">println!</span>(<span class="string">&quot;{:#?}&quot;</span>, glyph);
    }
}

<span class="comment">// Create a default text color
</span><span class="kw">let </span>text_color = Color::rgb(<span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>);

<span class="comment">// Draw the buffer (for performance, instead use SwashCache directly)
</span>buffer.draw(<span class="kw-2">&amp;mut </span>swash_cache, text_color, |x, y, w, h, color| {
    <span class="comment">// Fill in your code here for drawing rectangles
</span>});</code></pre></div>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><div class="item-table"><div class="item-row"><div class="item-left import-item" id="reexport.fontdb"><code>pub use <a class="mod" href="../fontdb/index.html" title="mod fontdb">fontdb</a>;</code></div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Attrs.html" title="cosmic_text::Attrs struct">Attrs</a></div><div class="item-right docblock-short">Text attributes</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AttrsList.html" title="cosmic_text::AttrsList struct">AttrsList</a></div><div class="item-right docblock-short">List of text attributes to apply to a line</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AttrsOwned.html" title="cosmic_text::AttrsOwned struct">AttrsOwned</a></div><div class="item-right docblock-short">An owned version of <a href="struct.Attrs.html" title="Attrs"><code>Attrs</code></a></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.BorrowedWithFontSystem.html" title="cosmic_text::BorrowedWithFontSystem struct">BorrowedWithFontSystem</a></div><div class="item-right docblock-short">A value borrowed together with an <a href="struct.FontSystem.html" title="FontSystem"><code>FontSystem</code></a></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Buffer.html" title="cosmic_text::Buffer struct">Buffer</a></div><div class="item-right docblock-short">A buffer of text that is shaped and laid out</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.BufferLine.html" title="cosmic_text::BufferLine struct">BufferLine</a></div><div class="item-right docblock-short">A line (or paragraph) of text that is shaped and laid out</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CacheKey.html" title="cosmic_text::CacheKey struct">CacheKey</a></div><div class="item-right docblock-short">Key for building a glyph cache</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Color.html" title="cosmic_text::Color struct">Color</a></div><div class="item-right docblock-short">Text color</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Cursor.html" title="cosmic_text::Cursor struct">Cursor</a></div><div class="item-right docblock-short">Current cursor location</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Editor.html" title="cosmic_text::Editor struct">Editor</a></div><div class="item-right docblock-short">A wrapper of <a href="struct.Buffer.html" title="Buffer"><code>Buffer</code></a> for easy editing</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Font.html" title="cosmic_text::Font struct">Font</a></div><div class="item-right docblock-short">A font</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FontSystem.html" title="cosmic_text::FontSystem struct">FontSystem</a></div><div class="item-right docblock-short">Access system fonts</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.LayoutCursor.html" title="cosmic_text::LayoutCursor struct">LayoutCursor</a></div><div class="item-right docblock-short">The position of a cursor within a <a href="struct.Buffer.html" title="Buffer"><code>Buffer</code></a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.LayoutGlyph.html" title="cosmic_text::LayoutGlyph struct">LayoutGlyph</a></div><div class="item-right docblock-short">A laid out glyph</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.LayoutLine.html" title="cosmic_text::LayoutLine struct">LayoutLine</a></div><div class="item-right docblock-short">A line of laid out glyphs</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.LayoutRun.html" title="cosmic_text::LayoutRun struct">LayoutRun</a></div><div class="item-right docblock-short">A line of visible text for rendering</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.LayoutRunIter.html" title="cosmic_text::LayoutRunIter struct">LayoutRunIter</a></div><div class="item-right docblock-short">An iterator of visible text lines, see <a href="struct.LayoutRun.html" title="LayoutRun"><code>LayoutRun</code></a></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Metrics.html" title="cosmic_text::Metrics struct">Metrics</a></div><div class="item-right docblock-short">Metrics of text</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Placement.html" title="cosmic_text::Placement struct">Placement</a></div><div class="item-right docblock-short">Describes the offset and dimensions of a rendered mask.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ShapeGlyph.html" title="cosmic_text::ShapeGlyph struct">ShapeGlyph</a></div><div class="item-right docblock-short">A shaped glyph</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ShapeLine.html" title="cosmic_text::ShapeLine struct">ShapeLine</a></div><div class="item-right docblock-short">A shaped line (or paragraph)</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ShapeSpan.html" title="cosmic_text::ShapeSpan struct">ShapeSpan</a></div><div class="item-right docblock-short">A shaped span (for bidirectional processing)</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ShapeWord.html" title="cosmic_text::ShapeWord struct">ShapeWord</a></div><div class="item-right docblock-short">A shaped word (for word wrapping)</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SwashCache.html" title="cosmic_text::SwashCache struct">SwashCache</a></div><div class="item-right docblock-short">Cache for rasterizing with the swash scaler</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SwashImage.html" title="cosmic_text::SwashImage struct">SwashImage</a></div><div class="item-right docblock-short">Scaled glyph image.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Weight.html" title="cosmic_text::Weight struct">Weight</a></div><div class="item-right docblock-short">Specifies the weight of glyphs in the font, their degree of blackness or stroke thickness.</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Action.html" title="cosmic_text::Action enum">Action</a></div><div class="item-right docblock-short">An action to perform on an <a href="struct.Editor.html" title="Editor"><code>Editor</code></a></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Affinity.html" title="cosmic_text::Affinity enum">Affinity</a></div><div class="item-right docblock-short">Whether to associate cursors placed at a boundary between runs with the run before or after it.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Align.html" title="cosmic_text::Align enum">Align</a></div><div class="item-right docblock-short">Align or justify</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Command.html" title="cosmic_text::Command enum">Command</a></div><div class="item-right docblock-short">Path command.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Family.html" title="cosmic_text::Family enum">Family</a></div><div class="item-right docblock-short">A <a href="https://www.w3.org/TR/2018/REC-css-fonts-3-20180920/#propdef-font-family">font family</a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.FamilyOwned.html" title="cosmic_text::FamilyOwned enum">FamilyOwned</a></div><div class="item-right docblock-short">An owned version of <a href="enum.Family.html" title="Family"><code>Family</code></a></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Stretch.html" title="cosmic_text::Stretch enum">Stretch</a></div><div class="item-right docblock-short">A face <a href="https://docs.microsoft.com/en-us/typography/opentype/spec/os2#uswidthclass">width</a>.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Style.html" title="cosmic_text::Style enum">Style</a></div><div class="item-right docblock-short">Allows italic or oblique faces to be selected.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.SubpixelBin.html" title="cosmic_text::SubpixelBin enum">SubpixelBin</a></div><div class="item-right docblock-short">Binning of subpixel position for cache optimization</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.SwashContent.html" title="cosmic_text::SwashContent enum">SwashContent</a></div><div class="item-right docblock-short">Content of a scaled glyph image.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Wrap.html" title="cosmic_text::Wrap enum">Wrap</a></div><div class="item-right docblock-short">Wrapping mode</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Edit.html" title="cosmic_text::Edit trait">Edit</a></div><div class="item-right docblock-short">A trait to allow easy replacements of <a href="struct.Editor.html" title="Editor"><code>Editor</code></a>, like <code>SyntaxEditor</code></div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.SwashKey.html" title="cosmic_text::SwashKey type">SwashKey</a></div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="cosmic_text" data-themes="" data-resource-suffix="" data-rustdoc-version="1.68.0 (2c8cc3432 2023-03-06)" data-search-js="search-98d53477a794af0b.js" data-settings-js="settings-c3c521c753752a1a.js" data-settings-css="settings-08ddfdda51b8ee2e.css" ></div></body></html>